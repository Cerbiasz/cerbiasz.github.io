<!DOCTYPE html>
<html>
<head>
  <title>Hello</title>
</head>
<body>
  <script>
    document.addEventListener('DOMContentLoaded', async function () {
      try {
        const response = await fetch("https://cors.szurek.local/10/", {
          method: "GET",
          headers: {
            'Accept-Language': 'pl-pl',
          },
        });
        
        if (response.ok) {
          const json = await response.json();
          if ("error" in json) {
            alert(`Błąd: ${json['error']}`);
          } else {
            alert(`\nSekret to ${json['sekret']}.`);
          }
        } else {
          alert("Błąd sieci: Nie można pobrać danych.");
        }
      } catch (error) {
        alert(`Wystąpił błąd: ${error.message}`);
      }
    });
  </script>
</body>
</html>